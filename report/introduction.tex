\section{Introduction}

\IEEEPARstart{M}{aking} processors burn less energy while at the same time
increasing performance is currently one of the greatest challenges hardware
designers are facing. Performance alone can be improved by cramming more
components onto integrated circuits \cite{moore1965cramming} by utilizing new
processing technologies. However, it also incurs additional generation of heat
which the surroundings must manage to dissipate. Thus, computer designers have
been forced to come up with new techniques, such as shutting down parts of the
chip \cite{esmaeilzadeh2011dark} and designing specialized hardware.

As processors grow more sophisticated, it becomes harder to reason about their
energy efficiency. Even RISC processors, which is designed with simplicity in
mind\cite{sivarama}, have seen a steep increase in complexity over the last
couple of years\cite{alf_egil_bogen_cisc_risc_blog}. Features that previously
only existed in CISC processors are now entering the RISC domain. Current RISC
designs may have deep pipelines, increased component complexity, advanced branch
predictor units and a high degree of instruction level parallelism. They include
features that aims to reduce energy consumption and increase throughput in
return for nondeterminism and added complexity. Moreover, processors are
designed as more integrated components -- interacting extensively with the rest
of the system.

The need for energy efficient processors is increasing, and in order to get a
better understanding of which operations that is expensive in terms of energyy,
we propose a method to measure energy efficiency on the instruction level of a
processor. Previous research correlates power drain seen from the wall outlet
with performance counters on the CPU\cite{singh}\cite{bertran}\cite{bircher}.
Others look at energy usage under different workloads\cite{carroll2010analysis}.
The SHMAC project\cite{Umuroglu662354}\cite{rusten2012implementing} looks into
energy efficient hardware through a tile-based architecture scheme.

Being able to model and monitor energy consumption has also
got the industry's attention: Semiconductor companies are making software
targeting the embedded market to monitor energy consumption on-chip, giving
application engineers the opportunity to optimize for energy. With the emergence
of performance counters, it is now possible to detect how different pipeline
stages affects the overall power consumption\cite{bertran}.

In this paper we make two contributions. First, we analyze the instruction level
energy efficiency of a modern RISC computer architecture. We try to isolate as
many architecture components as possible by correlating performance counters
with observed power drain for a specific instruction. Secondly, we show that it
is feasible to get a per-instruction energy overview of an existing architecture
by applying our method and writing benchmark programs. We look at simple
single-cycle instructions as well as the most complex instructions consuming
multiple cycles on our target processor.

When each relevant instruction has been measured, we can compare their
normalized energy consumption and possibly identify patterns where consumption
is greater than expected. This can help in later architectural designs where
energy consumption is important. Also, with energy profiles on the instruction
level, compilers will be able to optimize their programs for energy efficiency.
It will also enable hardware simulators to estimate energy consumption of
a given program running on a given CPU core where such profiles are available.

The SHMAC project shows that it is possible to use the instruction energy
profiles to design hardware that is more energy efficient for a given task in
more sophisticated ways than previously possible. Energy profiles gives us a
better view of how different cores perform at different
tasks\cite{kumar2003single}. A system can then be composed of tiles with energy
profiles matching the given application.


%Our research is highly motivated by the SHMAC project from the Energy Efficient
%Computing Systems research group at NTNU. SHMAC is The Single-ISA Heterogeneous
%Many-core Computer where one of the main goals is an optimal processor in terms
%of energy efficiency. The SHMAC processor is based on the Amber open-source ARM
%compatible processor core project. Our research on the ARM Cortex A9
%based Exynos 4212 will of course not be equal to the same experiments run on
%a final implementation of SHMAC, but it will give concrete results for a near
%ISA-equivalent chip.

