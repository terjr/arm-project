\section{Introduction}

\IEEEPARstart{M}{aking} processors burn less energy while at the same time
increasing performance is currently one of the greatest challenges hardware
designers are facing. Performance alone can be improved by cramming more
components onto integrated circuits \cite{moore1965cramming} by utilizing new
processing technologies. However, it also incurs additional generation of heat
which the surroundings must manage to dissipate. Thus, hardware designers has
been forced to come up with new techniques, such as shutting down parts of the
chip \ref{dark_silicon} and designing specialized hardware.

Traditionally, RISC architectures has been influenced by design choices making
each instruction as simple as possible\cite{sivarama}. E.g. the AVR architecture
designed in the early 90's has a two-stage pipeline and only a few instructions
consumes more than one cycle. More recently, however, even RISC architectures
includes features that aims to reduce energy consumption and increase throughput
in return for nondeterminism and added complexity. Multiple pipelines, dual
issuing and parallel general ALUs are entering the RISC domain and is soon to
become ubiquitous even in the embedded world.

As processors grow more sophisticated, it becomes harder to reason about their
energy efficiency. Pipeline components are getting more complex, with advanced
branch predictor units and a high degree of instruction level parallelism. The
processor core itself gets more integrated with the rest of the system and many
parts of the pipeline contribute to the overall power consumption\cite{bertran}.
Thus, we need to gain insight of the processors energy characteristics by
running real-world measurements on a specific processor. Compilers can then use
these results to optimize for energy and not only performance.

Previous research correlates power drain seen from the wall outlet with
performance counters on the CPU\cite{singh}\cite{bertran}\cite{bircher}. Others
look at energy usage under different workloads\cite{carrol2010analysis}.

The SHMAC project\cite{shmac} aims to build a tile-based architecture where
general CPUs, memory and accelerators can be connected in a user-specified
configuration. Better energy profiling enables tiles to be chosen based on their
energy characteristics for the given application, creating an energy efficient
system as possible. Being able to model and monitor energy consumption has also
got the industry's attention: Semiconductor companies are making software
targeting the embedded market to monitor energy consumption on-chip, giving
application engineers the opportunity to optimize for energy.

In this paper we make two contributions. First, we analyze the instruction level
energy efficiency of a modern RISC computer architecture. We try to isolate as
many architecture components as possible by correlating performance counters
with observed power drain, emphasizing components that directly relates to the
pipeline activity for a specific instruction. Secondly, we show that it is
feasible to get a per-instruction energy overview of an existing architecture by
applying our method and writing benchmark programs. We look at both simple
single-cycle instructions as well as the most complex instructions consuming
multiple cycles on our target processor.


%Our research is highly motivated by the SHMAC project from the Energy Efficient
%Computing Systems research group at NTNU. SHMAC is The Single-ISA Heterogeneous
%Many-core Computer where one of the main goals is an optimal processor in terms
%of energy efficiency. The SHMAC processor is based on the Amber open-source ARM
%compatible processor core project. Our research on the ARM Cortex A9
%based Exynos 4212 will of course not be equal to the same experiments run on
%a final implementation of SHMAC, but it will give concrete results for a near
%ISA-equivalent chip.

